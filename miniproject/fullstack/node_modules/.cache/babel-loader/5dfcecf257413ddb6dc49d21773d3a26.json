{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\miniproject\\\\fullstack\\\\src\\\\component\\\\profile\\\\profile.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './profile.css'; // Import CSS file for styling\nimport axios from 'axios'; // To handle image upload requests\n\nconst Profile = ({\n  user,\n  setUser\n}) => {\n  const [formData, setFormData] = useState({\n    firstName: (user === null || user === void 0 ? void 0 : user.firstName) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    password: '' // For password changes\n  });\n  const [imageFile, setImageFile] = useState(null); // State to store selected image preview\n  const [loading, setLoading] = useState(false); // State to manage loading\n  const [editing, setEditing] = useState(false); // For toggling edit mode\n  const [isUserLoading, setIsUserLoading] = useState(true); // State to manage user loading\n  const defaultProfileImage = 'https://www.pphfoundation.ca/wp-content/uploads/2018/05/default-avatar.png';\n\n  // Get the token from localStorage\n  const token = localStorage.getItem(\"token\");\n\n  // Fetch user data on component mount\n  useEffect(() => {\n    const fetchUserData = async () => {\n      if (!token) {\n        setIsUserLoading(false);\n        return;\n      }\n      try {\n        const response = await axios.get(\"http://localhost:5000/api/user/profile\", {\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        });\n        setUser(response.data.user);\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      } finally {\n        setIsUserLoading(false); // Set loading to false after fetch\n      }\n    };\n    fetchUserData();\n  }, [setUser, token]);\n\n  // Handle input changes in the form\n  const handleInputChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle image changes\n  const handleImageChange = async e => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(URL.createObjectURL(file));\n      setLoading(true); // Set loading to true when uploading\n\n      const formData = new FormData();\n      formData.append(\"profileImage\", file);\n      formData.append(\"userId\", user === null || user === void 0 ? void 0 : user._id); // Use optional chaining\n      try {\n        const response = await axios.post(\"http://localhost:5000/api/user/uploadProfileImage\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            \"Authorization\": `Bearer ${token}` // Include JWT token\n          }\n        });\n\n        // Update user state with the new profile image\n        setUser({\n          ...user,\n          profileImage: response.data.profileImage\n        });\n      } catch (error) {\n        console.error(\"Image upload failed:\", error);\n      } finally {\n        setLoading(false); // Reset loading state\n      }\n    }\n  };\n\n  // Handle form submission (to update profile details)\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      // Send updated profile data to the backend\n      const response = await axios.put(`http://localhost:5000/api/user/update`, {\n        firstName: formData.firstName,\n        email: formData.email,\n        password: formData.password ? formData.password : undefined,\n        // Only send password if it's changed\n        userId: user._id\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}` // Include JWT token\n        }\n      });\n\n      // Update the user object in the frontend state\n      setUser(response.data);\n      setEditing(false); // Exit edit mode after updating\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Build the full image URL if a profileImage is available\n  const profileImageUrl = (user === null || user === void 0 ? void 0 : user.profileImage) ? `http://localhost:5000/${user.profileImage}?t=${new Date().getTime()}` // Add timestamp to avoid caching issues\n  : imageFile || defaultProfileImage;\n  if (isUserLoading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 12\n      }\n    }, \"Loading...\"); // Show a loading message while fetching user data\n  }\n  if (!token) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 12\n      }\n    }, \"Please log in to see your profile.\"); // Message when no token is found\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"profile-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, \"User Profile\"), user ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, editing ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    className: \"profile-edit-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"firstName\",\n    name: \"firstName\",\n    value: formData.firstName,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    value: formData.email,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: formData.password,\n    onChange: handleInputChange,\n    placeholder: \"Enter new password (optional)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"submit-btn\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, loading ? 'Updating...' : 'Update Profile')) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \"Name: \", user.firstName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, \"Email: \", user.email), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setEditing(true),\n    className: \"edit-profile-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, \"Edit Profile\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-image1-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: profileImageUrl,\n    alt: \"Profile\",\n    className: \"profile-image1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image-upload\",\n    className: \"edit-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, \"Edit Profile Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"image-upload\",\n    accept: \"image/*\",\n    onChange: handleImageChange,\n    className: \"file-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }))), loading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  }, \"Uploading image...\"), \" \") : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-login-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, \"Please log in to see your profile.\"));\n};\nexport default Profile;","map":{"version":3,"names":["React","useState","useEffect","axios","Profile","user","setUser","formData","setFormData","firstName","email","password","imageFile","setImageFile","loading","setLoading","editing","setEditing","isUserLoading","setIsUserLoading","defaultProfileImage","token","localStorage","getItem","fetchUserData","response","get","headers","data","error","console","handleInputChange","e","target","name","value","handleImageChange","file","files","URL","createObjectURL","FormData","append","_id","post","profileImage","handleFormSubmit","preventDefault","put","undefined","userId","profileImageUrl","Date","getTime","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","type","id","onChange","required","placeholder","disabled","onClick","src","alt","accept"],"sources":["D:/project/miniproject/fullstack/src/component/profile/profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './profile.css'; // Import CSS file for styling\r\nimport axios from 'axios'; // To handle image upload requests\r\n\r\nconst Profile = ({ user, setUser }) => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: user?.firstName || '',\r\n    email: user?.email || '',\r\n    password: '', // For password changes\r\n  });\r\n  const [imageFile, setImageFile] = useState(null); // State to store selected image preview\r\n  const [loading, setLoading] = useState(false); // State to manage loading\r\n  const [editing, setEditing] = useState(false); // For toggling edit mode\r\n  const [isUserLoading, setIsUserLoading] = useState(true); // State to manage user loading\r\n  const defaultProfileImage = 'https://www.pphfoundation.ca/wp-content/uploads/2018/05/default-avatar.png';\r\n\r\n  // Get the token from localStorage\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  // Fetch user data on component mount\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      if (!token) {\r\n        setIsUserLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/api/user/profile\", {\r\n          headers: {\r\n            \"Authorization\": `Bearer ${token}`,\r\n          },\r\n        });\r\n        setUser(response.data.user);\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      } finally {\r\n        setIsUserLoading(false); // Set loading to false after fetch\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [setUser, token]);\r\n\r\n  // Handle input changes in the form\r\n  const handleInputChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Handle image changes\r\n  const handleImageChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageFile(URL.createObjectURL(file));\r\n      setLoading(true); // Set loading to true when uploading\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"profileImage\", file);\r\n      formData.append(\"userId\", user?._id); // Use optional chaining\r\n      try {\r\n        const response = await axios.post(\"http://localhost:5000/api/user/uploadProfileImage\", formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            \"Authorization\": `Bearer ${token}`, // Include JWT token\r\n          },\r\n        });\r\n\r\n        // Update user state with the new profile image\r\n        setUser({ ...user, profileImage: response.data.profileImage });\r\n      } catch (error) {\r\n        console.error(\"Image upload failed:\", error);\r\n      } finally {\r\n        setLoading(false); // Reset loading state\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle form submission (to update profile details)\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Send updated profile data to the backend\r\n      const response = await axios.put(\r\n        `http://localhost:5000/api/user/update`,\r\n        { \r\n          firstName: formData.firstName,\r\n          email: formData.email,\r\n          password: formData.password ? formData.password : undefined, // Only send password if it's changed\r\n          userId: user._id,\r\n        },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${token}`, // Include JWT token\r\n          },\r\n        }\r\n      );\r\n\r\n      // Update the user object in the frontend state\r\n      setUser(response.data);\r\n      setEditing(false); // Exit edit mode after updating\r\n    } catch (error) {\r\n      console.error(\"Error updating profile:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Build the full image URL if a profileImage is available\r\n  const profileImageUrl = user?.profileImage \r\n    ? `http://localhost:5000/${user.profileImage}?t=${new Date().getTime()}` // Add timestamp to avoid caching issues\r\n    : imageFile || defaultProfileImage;\r\n\r\n  if (isUserLoading) {\r\n    return <p>Loading...</p>; // Show a loading message while fetching user data\r\n  }\r\n\r\n  if (!token) {\r\n    return <p>Please log in to see your profile.</p>; // Message when no token is found\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <h1 className=\"profile-title\">User Profile</h1>\r\n      {user ? (\r\n        <div className=\"profile-info\">\r\n          {editing ? (\r\n            <form onSubmit={handleFormSubmit} className=\"profile-edit-form\">\r\n              {/* Edit form for user details */}\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"firstName\">Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"firstName\"\r\n                  name=\"firstName\"\r\n                  value={formData.firstName}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter new password (optional)\"\r\n                />\r\n              </div>\r\n              <button type=\"submit\" className=\"submit-btn\" disabled={loading}>\r\n                {loading ? 'Updating...' : 'Update Profile'}\r\n              </button>\r\n            </form>\r\n          ) : (\r\n            <div className=\"profile-details\">\r\n              <p className=\"profile-name\">Name: {user.firstName}</p>\r\n              <p className=\"profile-email\">Email: {user.email}</p>\r\n              <button onClick={() => setEditing(true)} className=\"edit-profile-btn\">\r\n                Edit Profile\r\n              </button>\r\n            </div>\r\n          )}\r\n          <div className=\"profile-image1-section\">\r\n            <img\r\n              src={profileImageUrl}\r\n              alt=\"Profile\"\r\n              className=\"profile-image1\"\r\n            />\r\n            <div className=\"edit-overlay\">\r\n              <label htmlFor=\"image-upload\" className=\"edit-button\">\r\n                Edit Profile Image\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                id=\"image-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleImageChange}\r\n                className=\"file-input\"\r\n              />\r\n            </div>\r\n          </div>\r\n          {loading && <p>Uploading image...</p>} {/* Show loading message */}\r\n        </div>\r\n      ) : (\r\n        <p className=\"profile-login-message\">Please log in to see your profile.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,eAAe,CAAC,CAAC;AACxB,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B,MAAMC,OAAO,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAQ,CAAC,KAAK;EACrC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC;IACvCQ,SAAS,EAAE,CAAAJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,SAAS,KAAI,EAAE;IAChCC,KAAK,EAAE,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,KAAK,KAAI,EAAE;IACxBC,QAAQ,EAAE,EAAE,CAAE;EAChB,CAAC,CAAC;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAClD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC1D,MAAMmB,mBAAmB,GAAG,4EAA4E;;EAExG;EACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;EAE3C;EACArB,SAAS,CAAC,MAAM;IACd,MAAMsB,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI,CAACH,KAAK,EAAE;QACVF,gBAAgB,CAAC,KAAK,CAAC;QACvB;MACF;MAEA,IAAI;QACF,MAAMM,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAAC,wCAAwC,EAAE;UACzEC,OAAO,EAAE;YACP,eAAe,EAAE,UAAUN,KAAK;UAClC;QACF,CAAC,CAAC;QACFf,OAAO,CAACmB,QAAQ,CAACG,IAAI,CAACvB,IAAI,CAAC;MAC7B,CAAC,CAAC,OAAOwB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,SAAS;QACRV,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;MAC3B;IACF,CAAC;IAEDK,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAAClB,OAAO,EAAEe,KAAK,CAAC,CAAC;;EAEpB;EACA,MAAMU,iBAAiB,GAAIC,CAAC,IAAK;IAC/BxB,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACyB,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;EAC/D,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAG,MAAOJ,CAAC,IAAK;IACrC,MAAMK,IAAI,GAAGL,CAAC,CAACC,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAID,IAAI,EAAE;MACRxB,YAAY,CAAC0B,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC,CAAC;MACvCtB,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;;MAElB,MAAMR,QAAQ,GAAG,IAAIkC,QAAQ,CAAC,CAAC;MAC/BlC,QAAQ,CAACmC,MAAM,CAAC,cAAc,EAAEL,IAAI,CAAC;MACrC9B,QAAQ,CAACmC,MAAM,CAAC,QAAQ,EAAErC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsC,GAAG,CAAC,CAAC,CAAC;MACtC,IAAI;QACF,MAAMlB,QAAQ,GAAG,MAAMtB,KAAK,CAACyC,IAAI,CAAC,mDAAmD,EAAErC,QAAQ,EAAE;UAC/FoB,OAAO,EAAE;YACP,cAAc,EAAE,qBAAqB;YACrC,eAAe,EAAE,UAAUN,KAAK,EAAE,CAAE;UACtC;QACF,CAAC,CAAC;;QAEF;QACAf,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEwC,YAAY,EAAEpB,QAAQ,CAACG,IAAI,CAACiB;QAAa,CAAC,CAAC;MAChE,CAAC,CAAC,OAAOhB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C,CAAC,SAAS;QACRd,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;MACrB;IACF;EACF,CAAC;;EAED;EACA,MAAM+B,gBAAgB,GAAG,MAAOd,CAAC,IAAK;IACpCA,CAAC,CAACe,cAAc,CAAC,CAAC;IAClBhC,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF;MACA,MAAMU,QAAQ,GAAG,MAAMtB,KAAK,CAAC6C,GAAG,CAC9B,uCAAuC,EACvC;QACEvC,SAAS,EAAEF,QAAQ,CAACE,SAAS;QAC7BC,KAAK,EAAEH,QAAQ,CAACG,KAAK;QACrBC,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ,GAAGJ,QAAQ,CAACI,QAAQ,GAAGsC,SAAS;QAAE;QAC7DC,MAAM,EAAE7C,IAAI,CAACsC;MACf,CAAC,EACD;QACEhB,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUN,KAAK,EAAE,CAAE;QACtC;MACF,CACF,CAAC;;MAED;MACAf,OAAO,CAACmB,QAAQ,CAACG,IAAI,CAAC;MACtBX,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,SAAS;MACRd,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,MAAMoC,eAAe,GAAG,CAAA9C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwC,YAAY,IACtC,yBAAyBxC,IAAI,CAACwC,YAAY,MAAM,IAAIO,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,EAAE,CAAC;EAAA,EACvEzC,SAAS,IAAIQ,mBAAmB;EAEpC,IAAIF,aAAa,EAAE;IACjB,oBAAOlB,KAAA,CAAAsD,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAG,YAAa,CAAC,CAAC,CAAC;EAC5B;EAEA,IAAI,CAACvC,KAAK,EAAE;IACV,oBAAOrB,KAAA,CAAAsD,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAG,oCAAqC,CAAC,CAAC,CAAC;EACpD;EAEA,oBACE5D,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,mBAAmB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChC5D,KAAA,CAAAsD,aAAA;IAAIO,SAAS,EAAC,eAAe;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAgB,CAAC,EAC9CvD,IAAI,gBACHL,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,cAAc;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC1B5C,OAAO,gBACNhB,KAAA,CAAAsD,aAAA;IAAMQ,QAAQ,EAAEhB,gBAAiB;IAACe,SAAS,EAAC,mBAAmB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAE7D5D,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzB5D,KAAA,CAAAsD,aAAA;IAAOS,OAAO,EAAC,WAAW;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,MAAW,CAAC,eACvC5D,KAAA,CAAAsD,aAAA;IACEU,IAAI,EAAC,MAAM;IACXC,EAAE,EAAC,WAAW;IACd/B,IAAI,EAAC,WAAW;IAChBC,KAAK,EAAE5B,QAAQ,CAACE,SAAU;IAC1ByD,QAAQ,EAAEnC,iBAAkB;IAC5BoC,QAAQ;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACT,CACE,CAAC,eACN5D,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzB5D,KAAA,CAAAsD,aAAA;IAAOS,OAAO,EAAC,OAAO;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAY,CAAC,eACpC5D,KAAA,CAAAsD,aAAA;IACEU,IAAI,EAAC,OAAO;IACZC,EAAE,EAAC,OAAO;IACV/B,IAAI,EAAC,OAAO;IACZC,KAAK,EAAE5B,QAAQ,CAACG,KAAM;IACtBwD,QAAQ,EAAEnC,iBAAkB;IAC5BoC,QAAQ;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACT,CACE,CAAC,eACN5D,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzB5D,KAAA,CAAAsD,aAAA;IAAOS,OAAO,EAAC,UAAU;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAe,CAAC,eAC1C5D,KAAA,CAAAsD,aAAA;IACEU,IAAI,EAAC,UAAU;IACfC,EAAE,EAAC,UAAU;IACb/B,IAAI,EAAC,UAAU;IACfC,KAAK,EAAE5B,QAAQ,CAACI,QAAS;IACzBuD,QAAQ,EAAEnC,iBAAkB;IAC5BqC,WAAW,EAAC,+BAA+B;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5C,CACE,CAAC,eACN5D,KAAA,CAAAsD,aAAA;IAAQU,IAAI,EAAC,QAAQ;IAACH,SAAS,EAAC,YAAY;IAACQ,QAAQ,EAAEvD,OAAQ;IAAAyC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5D9C,OAAO,GAAG,aAAa,GAAG,gBACrB,CACJ,CAAC,gBAEPd,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,iBAAiB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9B5D,KAAA,CAAAsD,aAAA;IAAGO,SAAS,EAAC,cAAc;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAM,EAACvD,IAAI,CAACI,SAAa,CAAC,eACtDT,KAAA,CAAAsD,aAAA;IAAGO,SAAS,EAAC,eAAe;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAO,EAACvD,IAAI,CAACK,KAAS,CAAC,eACpDV,KAAA,CAAAsD,aAAA;IAAQgB,OAAO,EAAEA,CAAA,KAAMrD,UAAU,CAAC,IAAI,CAAE;IAAC4C,SAAS,EAAC,kBAAkB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAE9D,CACL,CACN,eACD5D,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,wBAAwB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrC5D,KAAA,CAAAsD,aAAA;IACEiB,GAAG,EAAEpB,eAAgB;IACrBqB,GAAG,EAAC,SAAS;IACbX,SAAS,EAAC,gBAAgB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC3B,CAAC,eACF5D,KAAA,CAAAsD,aAAA;IAAKO,SAAS,EAAC,cAAc;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B5D,KAAA,CAAAsD,aAAA;IAAOS,OAAO,EAAC,cAAc;IAACF,SAAS,EAAC,aAAa;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAE/C,CAAC,eACR5D,KAAA,CAAAsD,aAAA;IACEU,IAAI,EAAC,MAAM;IACXC,EAAE,EAAC,cAAc;IACjBQ,MAAM,EAAC,SAAS;IAChBP,QAAQ,EAAE9B,iBAAkB;IAC5ByB,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACvB,CACE,CACF,CAAC,EACL9C,OAAO,iBAAId,KAAA,CAAAsD,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,oBAAqB,CAAC,EAAC,GACnC,CAAC,gBAEN5D,KAAA,CAAAsD,aAAA;IAAGO,SAAS,EAAC,uBAAuB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oCAAqC,CAEzE,CAAC;AAEV,CAAC;AAED,eAAexD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}