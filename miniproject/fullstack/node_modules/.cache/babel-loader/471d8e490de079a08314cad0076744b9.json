{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\miniproject\\\\fullstack\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Auth from './component/Auth/Auth';\nimport { Routes, Route } from 'react-router-dom';\nimport Home from './component/home/home';\nimport Navbar from './component/navbar/Navbar';\nimport Profile from './component/profile/profile';\nimport jwtDecode from 'jwt-decode';\nimport Resume from './component/resume/resume';\nimport PortfolioForm from './component/portfolio/portfolio';\nfunction App() {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem('token'); // Retrieve token from localStorage\n    const userData = localStorage.getItem('user'); // Retrieve user data from localStorage\n\n    if (token) {\n      try {\n        const decoded = jwtDecode(token);\n        console.log('Decoded token:', decoded);\n\n        // Check if the user data exists in localStorage and set user state\n        if (userData) {\n          setUser(JSON.parse(userData)); // Set user state\n        } else {\n          // If user data does not exist, set user state to the decoded token if it contains user info\n          setUser(decoded); // Set user state from decoded token if needed\n        }\n      } catch (error) {\n        console.error('Invalid token', error);\n        // Optionally, you can clear the token and user from localStorage on invalid token\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n      }\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    user: user,\n    setUser: setUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(Auth, {\n      setUser: setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/home\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 38\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/profile\",\n    element: /*#__PURE__*/React.createElement(Profile, {\n      user: user,\n      setUser: setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 41\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"resume\",\n    element: /*#__PURE__*/React.createElement(Resume, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/portfolio\",\n    element: /*#__PURE__*/React.createElement(PortfolioForm, {\n      user: user,\n      setUser: setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 44\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","Auth","Routes","Route","Home","Navbar","Profile","jwtDecode","Resume","PortfolioForm","App","user","setUser","token","localStorage","getItem","userData","decoded","console","log","JSON","parse","error","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","path","element"],"sources":["D:/project/miniproject/fullstack/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Auth from './component/Auth/Auth';\nimport { Routes, Route } from 'react-router-dom';\nimport Home from './component/home/home';\nimport Navbar from './component/navbar/Navbar';\nimport Profile from './component/profile/profile';\nimport jwtDecode from 'jwt-decode';\nimport Resume from './component/resume/resume';\nimport PortfolioForm from './component/portfolio/portfolio';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token'); // Retrieve token from localStorage\n    const userData = localStorage.getItem('user'); // Retrieve user data from localStorage\n\n    if (token) {\n      try {\n        const decoded = jwtDecode(token);\n        console.log('Decoded token:', decoded);\n        \n        // Check if the user data exists in localStorage and set user state\n        if (userData) {\n          setUser(JSON.parse(userData)); // Set user state\n        } else {\n          // If user data does not exist, set user state to the decoded token if it contains user info\n          setUser(decoded); // Set user state from decoded token if needed\n        }\n      } catch (error) {\n        console.error('Invalid token', error);\n        // Optionally, you can clear the token and user from localStorage on invalid token\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n      }\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Navbar user={user} setUser={setUser} />\n      <Routes>\n        <Route path='/login' element={<Auth setUser={setUser} />} />\n        <Route path='/home' element={<Home user={user} />} />\n        <Route path='/' element={<Home user={user} />} />\n        <Route path='/profile' element={<Profile user={user} setUser={setUser} />} />\n        <Route path='resume' element={<Resume user={user} />} />\n        <Route path='/portfolio' element={ <PortfolioForm user={user} setUser={setUser} />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,WAAW;AAClB,OAAOC,IAAI,MAAM,uBAAuB;AACxC,SAASC,MAAM,EAAEC,KAAK,QAAQ,kBAAkB;AAChD,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,MAAM,MAAM,2BAA2B;AAC9C,OAAOC,OAAO,MAAM,6BAA6B;AACjD,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,MAAM,MAAM,2BAA2B;AAC9C,OAAOC,aAAa,MAAM,iCAAiC;AAE3D,SAASC,GAAGA,CAAA,EAAG;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,MAAMa,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;IAC7C,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;;IAE/C,IAAIF,KAAK,EAAE;MACT,IAAI;QACF,MAAMI,OAAO,GAAGV,SAAS,CAACM,KAAK,CAAC;QAChCK,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,OAAO,CAAC;;QAEtC;QACA,IAAID,QAAQ,EAAE;UACZJ,OAAO,CAACQ,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjC,CAAC,MAAM;UACL;UACAJ,OAAO,CAACK,OAAO,CAAC,CAAC,CAAC;QACpB;MACF,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdJ,OAAO,CAACI,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC;QACAR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;QAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;MACjC;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEzB,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClBjC,KAAA,CAAA0B,aAAA,CAACnB,MAAM;IAACM,IAAI,EAAEA,IAAK;IAACC,OAAO,EAAEA,OAAQ;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACxCjC,KAAA,CAAA0B,aAAA,CAACtB,MAAM;IAAAwB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACLjC,KAAA,CAAA0B,aAAA,CAACrB,KAAK;IAAC6B,IAAI,EAAC,QAAQ;IAACC,OAAO,eAAEnC,KAAA,CAAA0B,aAAA,CAACvB,IAAI;MAACW,OAAO,EAAEA,OAAQ;MAAAc,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC5DjC,KAAA,CAAA0B,aAAA,CAACrB,KAAK;IAAC6B,IAAI,EAAC,OAAO;IAACC,OAAO,eAAEnC,KAAA,CAAA0B,aAAA,CAACpB,IAAI;MAACO,IAAI,EAAEA,IAAK;MAAAe,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACrDjC,KAAA,CAAA0B,aAAA,CAACrB,KAAK;IAAC6B,IAAI,EAAC,GAAG;IAACC,OAAO,eAAEnC,KAAA,CAAA0B,aAAA,CAACpB,IAAI;MAACO,IAAI,EAAEA,IAAK;MAAAe,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACjDjC,KAAA,CAAA0B,aAAA,CAACrB,KAAK;IAAC6B,IAAI,EAAC,UAAU;IAACC,OAAO,eAAEnC,KAAA,CAAA0B,aAAA,CAAClB,OAAO;MAACK,IAAI,EAAEA,IAAK;MAACC,OAAO,EAAEA,OAAQ;MAAAc,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC7EjC,KAAA,CAAA0B,aAAA,CAACrB,KAAK;IAAC6B,IAAI,EAAC,QAAQ;IAACC,OAAO,eAAEnC,KAAA,CAAA0B,aAAA,CAAChB,MAAM;MAACG,IAAI,EAAEA,IAAK;MAAAe,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACxDjC,KAAA,CAAA0B,aAAA,CAACrB,KAAK;IAAC6B,IAAI,EAAC,YAAY;IAACC,OAAO,eAAGnC,KAAA,CAAA0B,aAAA,CAACf,aAAa;MAACE,IAAI,EAAEA,IAAK;MAACC,OAAO,EAAEA,OAAQ;MAAAc,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAC/E,CACL,CAAC;AAEV;AAEA,eAAerB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}