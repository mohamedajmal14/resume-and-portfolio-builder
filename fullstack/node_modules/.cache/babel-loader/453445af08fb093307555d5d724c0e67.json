{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\miniproject\\\\fullstack\\\\src\\\\component\\\\profile\\\\profile.jsx\";\nimport React, { useState } from 'react';\nimport './profile.css'; // Import CSS file for styling\nimport axios from 'axios'; // To handle image upload requests\n\nconst Profile = ({\n  user,\n  setUser\n}) => {\n  const [imageFile, setImageFile] = useState(null); // State to store selected image\n  const [isEditing, setIsEditing] = useState(false); // State to handle edit mode\n  const defaultProfileImage = 'https://www.pphfoundation.ca/wp-content/uploads/2018/05/default-avatar.png';\n\n  // Function to handle image selection\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    setImageFile(file);\n  };\n\n  // Function to handle form submit and send the image to the server\n  const handleImageUpload = async e => {\n    e.preventDefault();\n    if (!imageFile) return;\n    const formData = new FormData();\n    formData.append('profileImage', imageFile); // 'profileImage' should match your backend field\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/user/uploadProfileImage', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Update user profile image in state after successful upload\n      setUser({\n        ...user,\n        profileImage: response.data.profileImage\n      });\n      setIsEditing(false); // Exit edit mode\n    } catch (error) {\n      console.error('Image upload failed:', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"profile-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"User Profile\"), user ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-image-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user.profileImage || defaultProfileImage,\n    alt: \"Profile\",\n    className: \"profile-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), isEditing ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleImageUpload,\n    className: \"profile-edit-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: handleImageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"profile-save-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setIsEditing(false),\n    className: \"profile-cancel-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Cancel\")) : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setIsEditing(true),\n    className: \"profile-edit-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, \"Edit Profile Image\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Name: \", user.firstName, \" \", user.lastName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Email: \", user.email)) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile-login-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"Please log in to see your profile.\"));\n};\nexport default Profile;","map":{"version":3,"names":["React","useState","axios","Profile","user","setUser","imageFile","setImageFile","isEditing","setIsEditing","defaultProfileImage","handleImageChange","e","file","target","files","handleImageUpload","preventDefault","formData","FormData","append","response","post","headers","profileImage","data","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","type","accept","onChange","onClick","firstName","lastName","email"],"sources":["D:/project/miniproject/fullstack/src/component/profile/profile.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './profile.css'; // Import CSS file for styling\r\nimport axios from 'axios'; // To handle image upload requests\r\n\r\nconst Profile = ({ user, setUser }) => {\r\n  const [imageFile, setImageFile] = useState(null); // State to store selected image\r\n  const [isEditing, setIsEditing] = useState(false); // State to handle edit mode\r\n  const defaultProfileImage = 'https://www.pphfoundation.ca/wp-content/uploads/2018/05/default-avatar.png';\r\n\r\n  // Function to handle image selection\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImageFile(file);\r\n  };\r\n\r\n  // Function to handle form submit and send the image to the server\r\n  const handleImageUpload = async (e) => {\r\n    e.preventDefault();\r\n    if (!imageFile) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append('profileImage', imageFile); // 'profileImage' should match your backend field\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/user/uploadProfileImage', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      // Update user profile image in state after successful upload\r\n      setUser({ ...user, profileImage: response.data.profileImage });\r\n      setIsEditing(false); // Exit edit mode\r\n    } catch (error) {\r\n      console.error('Image upload failed:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <h1 className=\"profile-title\">User Profile</h1>\r\n      {user ? (\r\n        <div className=\"profile-info\">\r\n          <div className=\"profile-image-section\">\r\n            <img\r\n              src={user.profileImage || defaultProfileImage}\r\n              alt=\"Profile\"\r\n              className=\"profile-image\"\r\n            />\r\n            {isEditing ? (\r\n              <form onSubmit={handleImageUpload} className=\"profile-edit-form\">\r\n                <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\r\n                <button type=\"submit\" className=\"profile-save-button\">Save</button>\r\n                <button onClick={() => setIsEditing(false)} className=\"profile-cancel-button\">Cancel</button>\r\n              </form>\r\n            ) : (\r\n              <button onClick={() => setIsEditing(true)} className=\"profile-edit-button\">\r\n                Edit Profile Image\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <p className=\"profile-name\">\r\n            Name: {user.firstName} {user.lastName}\r\n          </p>\r\n          <p className=\"profile-email\">Email: {user.email}</p>\r\n          {/* Add more user details as needed */}\r\n        </div>\r\n      ) : (\r\n        <p className=\"profile-login-message\">Please log in to see your profile.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}